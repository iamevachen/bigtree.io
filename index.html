<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>小红书爆文训练营 OS - 科技版</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        acidPurple: '#5B34C1',    // 酸性紫
                        mintCyan: '#04789E',      // 薄荷浅青
                        mistBlue: '#86D6EE',      // 雾霾灰蓝
                        ultraBlack: '#010101',    // 极致黑
                    }
                }
            }
        }
    </script>

    <style>
        body { font-family: 'Inter', 'Noto Sans SC', sans-serif; background-color: #f8fafc; }
        .acid-gradient { background: linear-gradient(135deg, #5B34C1 0%, #04789E 100%); }
        .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(12px); border: 1px solid rgba(134, 214, 238, 0.2); }
        .status-exploded { background: rgba(91, 52, 193, 0.1); color: #5B34C1; border: 1px solid rgba(91, 52, 193, 0.2); }
        .hide-scroll::-webkit-scrollbar { display: none; }
        
        /* 极致黑导航文字 */
        .nav-link { color: #010101; font-weight: 600; }
        .nav-link:hover { color: #5B34C1; }
    </style>
</head>
<body class="text-ultraBlack min-h-screen pb-20">

    <nav class="sticky top-0 z-40 w-full glass-card px-6 py-4 flex justify-between items-center">
        <div class="flex items-center gap-3">
            <div class="w-9 h-9 acid-gradient rounded-xl flex items-center justify-center text-white shadow-lg shadow-acidPurple/20">
                <i data-lucide="terminal" class="w-5 h-5"></i>
            </div>
            <h1 class="font-bold text-xl tracking-tighter text-ultraBlack">RedBoost <span class="text-acidPurple">PRO</span></h1>
        </div>
        <div class="flex items-center gap-4">
            <select id="roleSelector" onchange="app.switchRole(this.value)" class="text-xs font-bold border-2 border-mistBlue/30 rounded-full px-4 py-1.5 bg-white outline-none focus:border-acidPurple">
                <option value="member">学员模式</option>
                <option value="admin">管理员模式</option>
            </select>
            <div class="w-9 h-9 rounded-xl bg-mistBlue flex items-center justify-center border border-white shadow-sm">
                <i data-lucide="user" class="w-5 h-5 text-mintCyan"></i>
            </div>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto p-6 space-y-8">
        
        <section id="adminView" class="hidden grid grid-cols-2 md:grid-cols-4 gap-5">
            <div class="bg-white p-5 rounded-2xl border border-mistBlue/20 shadow-sm">
                <p class="text-gray-400 text-xs font-bold uppercase tracking-wider mb-1">本周爆文</p>
                <p class="text-3xl font-black text-acidPurple">42 <span class="text-sm font-normal text-mintCyan">↑12%</span></p>
            </div>
            <div class="bg-ultraBlack p-5 rounded-2xl shadow-xl">
                <p class="text-mistBlue/60 text-xs font-bold uppercase mb-1">爆文标准</p>
                <p class="text-xl font-bold text-white">阅读 > 2k</p>
            </div>
            <div class="bg-white p-5 rounded-2xl border border-mistBlue/20 shadow-sm">
                <p class="text-gray-400 text-xs font-bold uppercase mb-1">活跃成员</p>
                <p class="text-3xl font-black text-mintCyan">128</p>
            </div>
            <div class="bg-white p-5 rounded-2xl border border-mistBlue/20 shadow-sm">
                <p class="text-gray-400 text-xs font-bold uppercase mb-1">待催办</p>
                <p class="text-3xl font-black text-orange-400">08</p>
            </div>
        </section>

        <section class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="lg:col-span-2 bg-white p-6 rounded-3xl border border-mistBlue/10 shadow-sm">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="font-black text-lg flex items-center gap-2 italic">
                        <span class="w-2 h-6 bg-acidPurple rounded-full"></span> DATA INSIGHT
                    </h2>
                    <div class="flex gap-2">
                        <span class="w-3 h-3 rounded-full bg-acidPurple"></span>
                        <span class="w-3 h-3 rounded-full bg-mintCyan"></span>
                    </div>
                </div>
                <canvas id="growthChart" height="140"></canvas>
            </div>
            
            <div class="bg-acidPurple p-6 rounded-3xl text-white shadow-2xl shadow-acidPurple/30 flex flex-col justify-between">
                <div>
                    <h3 class="text-2xl font-black mb-2 leading-tight">记录你的<br>下一篇爆文</h3>
                    <p class="text-mistBlue text-sm opacity-80">系统将自动分析 24h 后的数据波动</p>
                </div>
                <button onclick="app.openModal()" class="w-full bg-white text-acidPurple py-4 rounded-2xl font-black text-lg hover:bg-mistBlue transition-all flex items-center justify-center gap-2 group">
                    <i data-lucide="plus-circle" class="group-hover:rotate-90 transition-transform"></i> 立即发布
                </button>
            </div>
        </section>

        <section class="space-y-4">
            <h2 class="font-black text-gray-800 text-lg uppercase tracking-widest">Master Table / 记录明细</h2>
            <div class="bg-white rounded-3xl shadow-xl shadow-mistBlue/5 overflow-hidden border border-mistBlue/10">
                <div class="overflow-x-auto">
                    <table class="w-full text-left">
                        <thead class="bg-ultraBlack text-mistBlue/50 text-[10px] uppercase font-black">
                            <tr>
                                <th class="px-6 py-4 tracking-widest">Note Detail</th>
                                <th class="px-6 py-4">Category</th>
                                <th class="px-6 py-4">Metrics (R/L/S/C)</th>
                                <th class="px-6 py-4">Status</th>
                                <th class="px-6 py-4 text-right">Action</th>
                            </tr>
                        </thead>
                        <tbody id="noteTableBody" class="divide-y divide-gray-50 text-sm">
                            </tbody>
                    </table>
                </div>
            </div>
        </section>

    </main>

    <div id="modal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 bg-ultraBlack/60 backdrop-blur-md">
        <div class="bg-white w-full max-w-md rounded-[2.5rem] p-8 space-y-6 shadow-2xl border-4 border-mistBlue">
            <div class="flex justify-between items-center">
                <h3 class="font-black text-2xl italic">NEW ENTRY</h3>
                <button onclick="app.closeModal()" class="bg-gray-100 p-2 rounded-full hover:bg-mistBlue transition-colors"><i data-lucide="x" class="w-5 h-5 text-ultraBlack"></i></button>
            </div>
            <form id="noteForm" class="space-y-5">
                <input type="hidden" id="editId">
                <div class="space-y-1">
                    <label class="text-[10px] font-black text-acidPurple uppercase tracking-tighter">Note Link / Title</label>
                    <input type="text" id="noteTitle" required class="w-full bg-slate-50 border-2 border-mistBlue/20 rounded-2xl px-5 py-4 outline-none focus:border-acidPurple font-bold">
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-1">
                        <label class="text-[10px] font-black text-acidPurple uppercase tracking-tighter">Category</label>
                        <select id="noteType" class="w-full bg-slate-50 border-2 border-mistBlue/20 rounded-2xl px-5 py-4 outline-none font-bold">
                            <option value="flowith">Flowith AI</option>
                            <option value="lecture">Lecture Note</option>
                            <option value="other">Others</option>
                        </select>
                    </div>
                    <div class="space-y-1">
                        <label class="text-[10px] font-black text-acidPurple uppercase tracking-tighter">Date</label>
                        <input type="date" id="noteDate" class="w-full bg-slate-50 border-2 border-mistBlue/20 rounded-2xl px-5 py-4 outline-none font-bold text-xs">
                    </div>
                </div>
                <div id="dataFields" class="hidden grid grid-cols-2 gap-3 p-4 bg-mistBlue/10 rounded-2xl">
                    <input type="number" id="v_read" placeholder="阅读" class="bg-white border rounded-xl p-2 text-center font-bold">
                    <input type="number" id="v_like" placeholder="点赞" class="bg-white border rounded-xl p-2 text-center font-bold">
                </div>
                <button type="submit" class="w-full acid-gradient text-white py-5 rounded-2xl font-black text-lg shadow-xl shadow-acidPurple/40 active:scale-95 transition-all">
                    SAVE RECORD
                </button>
            </form>
        </div>
    </div>

    <script>
        // 核心逻辑保留并适配新色系
        const app = {
            state: {
                role: 'member',
                threshold: 2000,
                notes: [
                    { id: 1, title: '酸性设计在小红书的流量密码', type: 'flowith', date: '2026-01-25', read: 4500, like: 820, collect: 450, comment: 88, status: 'done', user: 'Leo' },
                    { id: 2, title: 'AI 绘画提示词高级班总结', type: 'lecture', date: '2026-01-27', read: 0, like: 0, collect: 0, comment: 0, status: 'pending', user: 'Leo' }
                ]
            },

            init() {
                lucide.createIcons();
                this.renderNotes();
                this.initChart();
            },

            switchRole(role) {
                this.state.role = role;
                document.getElementById('adminView').classList.toggle('hidden', role !== 'admin');
                this.renderNotes();
            },

            renderNotes() {
                const body = document.getElementById('noteTableBody');
                body.innerHTML = '';

                this.state.notes.forEach(note => {
                    const isExploded = note.read >= this.state.threshold;
                    const tr = document.createElement('tr');
                    tr.className = "group hover:bg-mistBlue/5 transition-all";
                    tr.innerHTML = `
                        <td class="px-6 py-5">
                            <div class="flex flex-col">
                                <span class="font-bold text-ultraBlack">${note.title}</span>
                                <span class="text-[10px] text-gray-400 font-bold uppercase">${note.user} · ${note.date}</span>
                            </div>
                        </td>
                        <td class="px-6 py-5">
                            <span class="text-[10px] font-black px-3 py-1 bg-mistBlue/20 rounded-full text-mintCyan uppercase italic">${note.type}</span>
                        </td>
                        <td class="px-6 py-5 font-mono text-xs font-bold">
                            ${note.status === 'pending' ? '<span class="text-gray-300">WAITING...</span>' : `<span class="text-acidPurple">${note.read}</span> / ${note.like} / ${note.collect}`}
                        </td>
                        <td class="px-6 py-5">
                            <span class="px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-tighter ${isExploded ? 'status-exploded' : (note.status === 'pending' ? 'bg-orange-50 text-orange-500' : 'bg-gray-100 text-gray-400')}">
                                ${isExploded ? '★ Exploded' : (note.status === 'pending' ? 'Pending' : 'Normal')}
                            </span>
                        </td>
                        <td class="px-6 py-5 text-right">
                            <button onclick="app.openModal(${note.id})" class="opacity-0 group-hover:opacity-100 bg-ultraBlack text-white text-[10px] px-3 py-2 rounded-lg font-black transition-all">UPDATE</button>
                        </td>
                    `;
                    body.appendChild(tr);
                });
                lucide.createIcons();
            },

            initChart() {
                const ctx = document.getElementById('growthChart').getContext('2d');
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT', 'SUN'],
                        datasets: [{
                            data: [12, 19, 15, 28, 22, 34, 42],
                            borderColor: '#5B34C1',
                            borderWidth: 4,
                            pointBackgroundColor: '#04789E',
                            tension: 0.4,
                            fill: true,
                            backgroundColor: 'rgba(134, 214, 238, 0.1)'
                        }]
                    },
                    options: {
                        plugins: { legend: { display: false } },
                        scales: { 
                            y: { display: false },
                            x: { grid: { display: false }, ticks: { font: { weight: 'bold', size: 10 } } } 
                        }
                    }
                });
            },

            openModal(id = null) {
                document.getElementById('modal').classList.remove('hidden');
                document.getElementById('dataFields').classList.toggle('hidden', !id);
                if(id) {
                    const note = this.state.notes.find(n => n.id === id);
                    document.getElementById('editId').value = id;
                    document.getElementById('noteTitle').value = note.title;
                    document.getElementById('v_read').value = note.read;
                }
            },

            closeModal() {
                document.getElementById('modal').classList.add('hidden');
                document.getElementById('noteForm').reset();
            }
        };

        document.getElementById('noteForm').onsubmit = (e) => {
            e.preventDefault();
            const id = document.getElementById('editId').value;
            if(id) {
                const idx = app.state.notes.findIndex(n => n.id == id);
                app.state.notes[idx].read = document.getElementById('v_read').value;
                app.state.notes[idx].status = 'done';
            } else {
                app.state.notes.unshift({
                    id: Date.now(),
                    title: document.getElementById('noteTitle').value,
                    type: document.getElementById('noteType').value,
                    date: document.getElementById('noteDate').value || '2026-01-28',
                    read: 0, like: 0, collect: 0, comment: 0,
                    status: 'pending',
                    user: 'You'
                });
            }
            app.renderNotes();
            app.closeModal();
        };

        window.onload = () => app.init();
    </script>
</body>
</html>
